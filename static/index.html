<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluxidea - 마인드맵</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>페이지 목록</h2>
                <button class="sidebar-toggle" id="sidebarClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <ul id="pageList"></ul>
            <button id="newPageBtn">
                <i class="fas fa-plus"></i>
                <span>새 페이지</span>
            </button>
        </div>
        <div class="main-content">
            <div class="toolbar">
                <button class="sidebar-toggle" id="sidebarOpen">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="toolbar-group toolbar-essential">
                    <button id="newNodeBtn" class="primary">
                        <i class="fas fa-plus"></i>
                        <span>새 노드</span>
                    </button>
                    <button id="connectModeBtn">
                        <i class="fas fa-link"></i>
                        <span>연결 모드</span>
                    </button>
                </div>
                
                <div class="toolbar-group">
                    <button id="organizeBtn">
                        <i class="fas fa-sitemap"></i>
                        <span>정리</span>
                    </button>
                    <button id="organizeForceBtn">
                        <i class="fas fa-project-diagram"></i>
                        <span>정리(force)</span>
                    </button>
                    <button id="testBtn">
                        <i class="fas fa-vial"></i>
                        <span>테스트 그래프</span>
                    </button>
                </div>
                
                <div class="toolbar-spacer"></div>
                
                <div class="toolbar-group toolbar-essential">
                    <button id="saveBtn">
                        <i class="fas fa-save"></i>
                        <span>저장</span>
                    </button>
                    <button id="changeViewBtn">
                        <i class="fas fa-cube"></i>
                        <span>3D 모드</span>
                    </button>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <button id='google-login-btn' class="auth-button">
                        <svg viewBox="0 0 24 24">
                            <path fill="#EA4335" d="M12 5.9c1.6 0 3 .6 4.1 1.6L19 4.7C17.1 3 14.7 2 12 2 7.7 2 4 4.9 2.3 8.8l3.7 2.8C7 8.3 9.3 5.9 12 5.9z"></path>
                            <path fill="#4285F4" d="M21.9 12c0-.9-.1-1.7-.3-2.5H12v4.7h5.6c-.2 1.3-.9 2.5-2 3.3l3.6 2.8c2.1-1.9 3.3-4.7 3.3-8.3z"></path>
                            <path fill="#FBBC05" d="M6 12c0-.8.1-1.5.4-2.2L2.7 7C1.9 8.5 1.5 10.2 1.5 12s.4 3.5 1.2 5l3.7-2.8c-.3-.7-.4-1.5-.4-2.2z"></path>
                            <path fill="#34A853" d="M12 18.1c-2.7 0-5-1.8-5.8-4.3L2.5 17c1.7 3.9 5.4 6.8 9.5 6.8 2.7 0 5.1-1 6.9-2.7l-3.6-2.8c-1 .7-2.3 1.1-3.3 1.1z"></path>
                        </svg>
                        <span id="login-text">Google 로그인</span>
                    </button>
                    
                    <button id="logout-btn" class="auth-button" style="display: none;">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>로그아웃</span>
                    </button>
                </div>
                
                <div class="toolbar-dropdown">
                    <button id="toolbarDropdownBtn">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                    <div class="toolbar-dropdown-content" id="toolbarDropdownContent">
                        <button id="newNodeBtn-mobile">
                            <i class="fas fa-plus"></i>
                            <span>새 노드</span>
                        </button>
                        <button id="connectModeBtn-mobile">
                            <i class="fas fa-link"></i>
                            <span>연결 모드</span>
                        </button>
                        <button id="organizeBtn-mobile">
                            <i class="fas fa-sitemap"></i>
                            <span>정리</span>
                        </button>
                        <button id="organizeForceBtn-mobile">
                            <i class="fas fa-project-diagram"></i>
                            <span>정리(force)</span>
                        </button>
                        <button id="testBtn-mobile">
                            <i class="fas fa-vial"></i>
                            <span>테스트 그래프</span>
                        </button>
                        <button id="saveBtn-mobile">
                            <i class="fas fa-save"></i>
                            <span>저장</span>
                        </button>
                        <button id="changeViewBtn-mobile">
                            <i class="fas fa-cube"></i>
                            <span>3D 모드</span>
                        </button>
                    </div>
                </div>
            </div>
            <div id="canvasContainer">
                <canvas id="mindmapCanvas"></canvas>
                <div class="loading" id="loading" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p>로딩 중...</p>
                </div>
            </div>
        </div>
    </div>
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@v0.170.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@v0.170.0/examples/jsm/"
          }
        }
    </script>
    <script type="module" src="js/main.js"></script>
</body>
</html>

